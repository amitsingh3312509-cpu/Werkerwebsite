<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>PCM Mock Test</title>
<style>
body{font-family:Arial;background:#f2f2f2}
.container{max-width:900px;margin:auto;background:#fff;padding:20px}
.question{margin:15px 0;padding:10px;border:1px solid #ccc}
.option{display:block;margin-left:20px}
button{padding:8px 15px;margin:10px;background:#007bff;color:#fff;border:none}
.result{background:#e6ffe6;padding:10px;margin-top:20px}
.wrong{color:red}
.correct{color:green}
</style>
</head>

<body>

<div class="container">

<h2>PCM Mock Test</h2>

<!-- QUESTIONS -->
<div id="quiz"></div>

<button onclick="submitTest()">Submit Test</button>
<button onclick="downloadAnswerPDF()">Answer Key PDF</button>

<div id="result"></div>

</div>

<script>
const questions=[
 {
  q:"कूलॉम का नियम किस पर लागू होता है?",
  o:["स्थिर बिंदु आवेश","धारा","चुंबक","तरंग"],
  a:0
 },
 {
  q:"ओम का नियम क्या है?",
  o:["V = IR","I = VR","R = VI","V = I/R"],
  a:0
 },
 {
  q:"विद्युत शक्ति का सूत्र है?",
  o:["VI","IR","V/R","R/I"],
  a:0
 }
];

// SHOW QUESTIONS
const quiz=document.getElementById("quiz");
questions.forEach((q,i)=>{
 let html=`<div class="question">
 <b>प्रश्न ${i+1}. ${q.q}</b><br>`;
 q.o.forEach((op,j)=>{
   html+=`
   <label class="option">
   <input type="radio" name="q${i}" value="${j}">
   ○ ${op}
   </label>`;
 });
 html+="</div>";
 quiz.innerHTML+=html;
});

// SUBMIT
function submitTest(){
 let correct=0, wrong=0;
 let resHTML="<h3>Result</h3>";

 questions.forEach((q,i)=>{
  const sel=document.querySelector(`input[name="q${i}"]:checked`);
  let userAns = sel ? parseInt(sel.value) : -1;

  if(userAns===q.a){
    correct++;
    resHTML+=`<p class="correct">✔ प्रश्न ${i+1} सही</p>`;
  }else{
    wrong++;
    resHTML+=`<p class="wrong">
    ✘ प्रश्न ${i+1} गलत <br>
    आपका उत्तर: ${userAns>=0?q.o[userAns]:"नहीं दिया"} <br>
    सही उत्तर: ${q.o[q.a]}
    </p>`;
  }
 });

 resHTML+=`<hr>
 कुल प्रश्न: ${questions.length}<br>
 सही: ${correct}<br>
 गलत: ${wrong}
 `;
 document.getElementById("result").innerHTML=resHTML;
}

// ANSWER KEY PDF
function downloadAnswerPDF(){
 let text="ANSWER KEY\n\n";
 questions.forEach((q,i)=>{
  text+=`प्रश्न ${i+1}. ${q.q}\n`;
  q.o.forEach((op,j)=>{
    text+=`${j===q.a?"✔":"○"} ${op}\n`;
  });
  text+="\n";
 });

 const blob=new Blob([text],{type:"text/plain"});
 const a=document.createElement("a");
 a.href=URL.createObjectURL(blob);
 a.download="AnswerKey.txt";
 a.click();
}
</script>

</body>
</html>
